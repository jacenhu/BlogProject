# TCP/IP详解卷一 

[toc]

**声明:**

本文为TCP/IP协议学习笔记，仅作学习交流使用。

# TCP/IP详解卷一 Chapter1 概述
## 1.1 引言
TCP/IP协议族被称作“全球互联网”或“因特网(Internet)”的基础。
## 1.2 分层
TCP/IP通常是四层协议系统。

1）链路层。通常包括操作系统中的设备驱动程序和计算机中对应的网络接口卡。

2）网络层。处理分组在网络中的活动。包括IP协议，ICMP协议，IGMP协议。

3）运输层。为两台主机上的程序提供端到端的通信。有两种不同的协议:TCP传输控制协议，UDP用户数据报协议。TCP提供了高可靠性的端到端的通信。UDP并不保证数据报到达另一台主机，可靠性由应用层提供。

在TCP/IP协议族中，网络层IP提供的是一种不可靠的服务。也就是说，它只是尽可能快地把分组从源结点送到目的结点，但是并不提供任何可靠性保证。而另一方面，TCP在不可靠的IP层上提供了一个可靠的运输层。为了提供这种可靠的服务，TCP用了超时重传、发送和接收端到端的确认分组等机制。由此可见，运输层和网络层分别负责不同的功能。网桥是在链路层上对网络进行互连，而路由器则是在网络层上对网络进行互连。TCP和UDP是两种最为著名的运输层协议，二者都使用IP作为网络层协议。

4）应用层。负责特定的应用程序细节。

## 1.3互联网的地址

ABCDE五类

## 1.5 域名系统

DNS是一个分布的数据库，提供ip与主机名之间的映射。

## 1.9 端口

客户端通常对它所使用的端口号并不关心，只需保证该端口号在本机上是唯一的就可以了。

## 1.13 互联网

intetnet意思是用一个共同的协议族把多个网络连接在一起。而 Internet指的是世界范围内通过TCP/CP互相通信的所有主机集合（超过100万台）。Internet是一个internet，但internet不等于Internet。

## 1.15 应用编程接口

使用TCP/CP协议的应用程序通常采用两种应用编程接口（API）：socket和TLI。

## 1.17 小结

TCP/IP协议族分为四层：链路层、网络层、运输层和应用层，每一层各有不同的责任。

在TCP/IP中，网络层和运输层之间的区别是最为关键的：网络层（IP）提供点到点的服务， 而运输层（TCP和UDP）提供端到端的服务。

一个互联网是网络的网络。构造互联网的共同基石是路由器，它们在IP层把网络连在一起。第一个字母大写的Internet是指分布在世界各地的大型互联网，其中包括1万多个网络和超过100万台主机。

在一个互联网上，每个接口都用IP地址来标识，尽管用户习惯使用主机名而不是IP地址。域名系统为主机名和IP地址之间提供动态的映射。端口号用来标识互相通信的应用程序。服 务器使用知名端口号，而客户使用临时设定的端口号。

# TCP/IP详解卷一 Chapter2 链路层

## 2.1 引言

### 链路层存在的三个目的

- 为IP模块发送和接收数据报
- 为ARP模块发送ARP请求和接收ARP应答
- 为RARP发送RARP和接收RARP应答

## 2.2 以太网和IEEE 802封装

### 以太网：带冲突检测的载波侦听多路接入，采用CSMA/CD接入方法。

### IEEE 802公布了一个标准集，802.3/802.4/802.5的共同特性由802.2标准来定义，即802共有的LLC。

### IEEE 802 与以太网的封装格式有所不同。

## 2.3 尾部封装

### RFC 893

- 一种用于以太网的封装格式，称作尾部封装。

## 2.4 SLIP：串行线路IP

#### SLIP：Serial Line IP，在串行线路上对IP数据报进行封装的简单形式。以这种协议定义的帧格式的IP数据报以END（0xc0）的特殊字符结束。

## 2.5 压缩的SLIP

#### 串行线路速率较低、通信是交互式的，为了传输一个数据需要20个字节的IP首部和TCP首部，总数超过40个字节。由于性能存在缺陷，人们提出了CSLIP的新协议，能将40个字节进行压缩。

## 2.6 PPP ：点对点协议

### PPP点对点协议修复了SLIP协议中所有的缺陷。PPP包括：

- 在串行线路上封装IP数据报的方法。
- 建立、配置及测试数据链路的链路控制协议。
- 针对不同网络层的网络控制协议。

## 2.7 环回接口

### 允许运行在同一台主机上的客户程序和服务器程序通过TCP/IP进行通信。

### 访问环回接口的可以通过特殊的环回地址，一般为127.0.0.1

## 2.8 最大传输单元MTU

### MTU称为最大传输单元。

### 如果IP数据的长度比链路层的MTU还要大，那么IP层就需要进行分片，将数据拆分成若干片，这样每一片都小于MTU。

## 2.9 路径MTU

### 两台通信主机路径中的最小MTU。不一定为常数，取决于当时所选择的路由。

## 2.10 串行路线吞吐量计算

## 2.11 小结
